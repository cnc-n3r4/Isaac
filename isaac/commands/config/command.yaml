name: config
version: 1.0.0
summary: "View or modify configuration settings"

triggers: ["/config"]

args:
  - name: subcommand
    type: string
    required: false
    help: "Configuration subcommand (status, ai, cloud, plugins, collections, ai-routing, console, set, apikey)"
  - name: arg1
    type: string
    required: false
    help: "First argument for subcommands that need it"
  - name: arg2
    type: string
    required: false
    help: "Second argument for subcommands that need it"
  - name: arg3
    type: string
    required: false
    help: "Third argument for subcommands that need it"

stdin: false
stdout:
  type: text

security:
  scope: user
  allow_remote: false  # Config changes are local-only
  resources:
    timeout_ms: 5000
    max_stdout_kib: 64

runtime:
  entry: "run.py"
  interpreter: "python"

telemetry:
  log_invocation: true
  log_output: true
  redact_patterns:
    - "(?i)(api[_-]?key|token|password)\\s*[=:]\\s*[A-Za-z0-9_-]+"

examples:
  - "/config"
  - "/config --status"
  - "/config --ai"
  - "/config --ai-routing"
  - "/config --ai-routing-set simple grok"
  - "/config --ai-routing-set code_write claude"
  - "/config --ai-routing-model claude claude-3-5-sonnet-20241022"
  - "/config --ai-routing-limits daily 10.0"
  - "/config --set default_tier 3"